<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Розстановка кораблів в грі "Морський бій". Завдання для EleksAcademy</title>
		<link href="style/main.css" rel="stylesheet" type="text/css">
		<style type="text/css">
   		TABLE {
		   // width: 300px; /* Ширина таблицы */
		  //  border-bottom: 0px solid maroon; /* Линия внизу таблицы */
		  //  background: #fffacd; /* Цвет фона таблицы */
			//border: none;
			padding-bottom:5px;
		   }
		   TH {
		    background: maroon; /* Цвет фона заголовка */
		    color: white; /* Цвет текста */
		    text-align: left; /* Выравнивание по левому краю */
		   }
		   TD, TH {
		    //padding: 3px; /* Поля вокруг текста */
			width: 40px;
			height: 40px;
		   }
		  </style>
				
		<script>
			//Розробив Бережник Іван (ivanberezhnyk@gmail.com)
			//Створюю двовимірний масив x розміром 12x12
			var x = new Array(12);
		 	for (var k = 0; k < 12; k++) x[k] = new Array(12);
			//Заповнюю його нулями
			for (var i = 0; i < 12; i++) {
				for (var j = 0; j < 12; j++) {
					x[i][j] = '0';
				}
			}
			
			function getColor(cl) {
				switch (cl){
				case 0:
					cl = 'black';
					break
				case 1:
					cl = 'white';
					break
				case 2:
					cl = 'black';
					break
				default:
					cl = 'black';
					break
				}
				
				return cl;
			}
			
			function getRandomInt(min, max) {
				return Math.floor(Math.random() * (max - min + 1)) + min;
			}
			
			function setShip1(){
				var a =  getRandomInt(1, 10), b =  getRandomInt(1, 10);
				var t = x[a][b];
				if (t!=1 && t!=2){
					x[a][b]=1;
					x[a-1][b-1] = 2;
					x[a-1][b] = 2;
					x[a-1][b+1] = 2;
					x[a][b-1] = 2;
					x[a][b+1] = 2;
					x[a+1][b-1] = 2;
					x[a+1][b] = 2;
					x[a+1][b+1] = 2;
				}
				else{
					setShip1();
				}
				return;
			}
			
			function setShipHor2(){
				var a =  getRandomInt(1, 10), b =  getRandomInt(1, 9);
				var t = x[a][b], t1 = x[a][b+1];
				if (t == 0 && t1 == 0) {
					x[a][b]=1;
					x[a][b+1]=1;
					x[a-1][b-1] = 2;
					x[a-1][b] = 2;
					x[a-1][b+1] = 2;
					x[a-1][b+2] = 2;
					x[a][b-1] = 2;
					x[a][b+2] = 2;
					x[a+1][b-1] = 2;
					x[a+1][b] = 2;
					x[a+1][b+1] = 2;
					x[a+1][b+2] = 2;
				}
				else{
					setShipHor2();
				}
				return;
			}
			
			function setShipVert2(){
				var a =  getRandomInt(1, 9), b =  getRandomInt(1, 10);
				var t = x[a][b], t1 = x[a+1][b];
				if (t == 0 && t1 == 0) {
					x[a][b]=1;
					x[a+1][b]=1;
					x[a-1][b-1] = 2;
					x[a-1][b] = 2;
					x[a-1][b+1] = 2;
					x[a][b-1] = 2;
					x[a][b+1] = 2;
					x[a+1][b-1] = 2;
					x[a+1][b+1] = 2;
					x[a+2][b-1] = 2;
					x[a+2][b] = 2;
					x[a+2][b+1] = 2;
				}
				else{
					setShipVert2();
				}
				return;
			}
			
			function setShipHor3(){
				var a =  getRandomInt(1, 10), b =  getRandomInt(1, 8);
				var t = x[a][b], t1 = x[a][b+1], t2 = x[a][b+2];
				if (t == 0 && t1 == 0 && t2 ==0) {
					x[a][b]=1;
					x[a][b+1]=1;
					x[a][b+2]=1;
					x[a-1][b-1] = 2;
					x[a-1][b] = 2;
					x[a-1][b+1] = 2;
					x[a-1][b+2] = 2;
					x[a-1][b+3] = 2;
					x[a][b-1] = 2;
					x[a][b+3] = 2;
					x[a+1][b-1] = 2;
					x[a+1][b] = 2;
					x[a+1][b+1] = 2;
					x[a+1][b+2] = 2;
					x[a+1][b+3] = 2;
				}
				else{
					setShipHor3();
				}
				return;
			}
			
			function setShipVert3(){
				var a =  getRandomInt(1, 8), b =  getRandomInt(1, 10);
				var t = x[a][b], t1 = x[a+1][b], t2 = x[a+2][b];
				if (t == 0 && t1 == 0 && t2 ==0) {
					x[a][b]=1;
					x[a+1][b]=1;
					x[a+2][b]=1;
					x[a-1][b-1] = 2;
					x[a-1][b] = 2;
					x[a-1][b+1] = 2;
					x[a][b-1] = 2;
					x[a][b+1] = 2;
					x[a+1][b-1] = 2;
					x[a+1][b+1] = 2;
					x[a+2][b-1] = 2;
					x[a+2][b+1] = 2;
					x[a+3][b-1] = 2;
					x[a+3][b] = 2;
					x[a+3][b+1] = 2;
				}
				else{
					setShipVert3();
				}
				return;
			}
						
			function setShipHor4(){
				var a =  getRandomInt(1, 10), b =  getRandomInt(1, 7);
				var t = x[a][b], t1 = x[a][b+1], t2 = x[a][b+2], t3 = x[a][b+3];
				if (t == 0 && t1 == 0 && t2 ==0 && t3 == 0) {
					x[a][b]=1;
					x[a][b+1]=1;
					x[a][b+2]=1;
					x[a][b+3]=1;
					x[a-1][b-1] = 2;
					x[a-1][b] = 2;
					x[a-1][b+1] = 2;
					x[a-1][b+2] = 2;
					x[a-1][b+3] = 2;
					x[a-1][b+4] = 2;
					x[a][b-1] = 2;
					x[a][b+4] = 2;
					x[a+1][b-1] = 2;
					x[a+1][b] = 2;
					x[a+1][b+1] = 2;
					x[a+1][b+2] = 2;
					x[a+1][b+3] = 2;
					x[a+1][b+4] = 2;
				}
				else{
					setShipHor4();
				}
				return;
			}
			
			function setShipVert4(){
				var a =  getRandomInt(1, 7), b =  getRandomInt(1, 10);
				var t = x[a][b], t1 = x[a+1][b], t2 = x[a+2][b], t3 = x[a+3][b];
				if (t == 0 && t1 == 0 && t2 ==0 && t3 == 0) {
					x[a][b]=1;
					x[a+1][b]=1;
					x[a+2][b]=1;
					x[a+3][b]=1;
					x[a-1][b-1] = 2;
					x[a-1][b] = 2;
					x[a-1][b+1] = 2;
					x[a][b-1] = 2;
					x[a][b+1] = 2;
					x[a+1][b-1] = 2;
					x[a+1][b+1] = 2;
					x[a+2][b-1] = 2;
					x[a+2][b+1] = 2;
					x[a+3][b-1] = 2;
					x[a+3][b+1] = 2;
					x[a+4][b-1] = 2;
					x[a+4][b] = 2;
					x[a+4][b+1] = 2;
				}
				else{
					setShipVert4();
				}
				return;
			}
			
			function setShip(ship) {
			var horVert = Math.floor(Math.random() * 2); //повертає 0 або 1, тобто горизонтальний чи вертикальний корабель
				switch (ship){
				case 1: 
					setShip1();
					break
				case 2: 
					if (horVert == 1){	
						setShipHor2() 
					}
					else{
						setShipVert2()
					}
					break
				case 3: 
					if (horVert == 1){	
						setShipHor3() 
					}
					else{
						setShipVert3()
					}
					break
				case 4: 
					if (horVert == 1){	
						setShipHor4() 
					}
					else{
						setShipVert4()
					}
					break
				}	
			}	
		</script>
	</head>
	<body>
		<div class="container">
		
		<center>
		<h2>Розстановка кораблів в грі "Морський бій". Завдання для EleksAcademy</h2>
		<div class="game-container">
		<div class="grid-container">
		<script>
			setShip(4);
			setShip(3);	setShip(3);
			setShip(2);	setShip(2);	setShip(2);
			setShip(1);	setShip(1);	setShip(1);	setShip(1);
			var c;
			document.write('<div class="grid-row"><div class="grid-cell"></div>');
			for (var k = 1; k < 11; k++) document.write('<div class="grid-cell">'+k+'</div>');
				document.write("</div>");
				for (var i = 1; i < 11; i++) {
					document.write('<div class="grid-row"><div class="grid-cell">'+i+'</div>');
					for (var j = 1; j < 11; j++) {
						document.write('<div class="grid-cell" style="background:' + getColor(x[i][j]) +'"></div>');
					}
					document.write('</div>');
				}	
		</script>
	</div>
	
	</center>
	</div>
	</div>
	</body>
</html>
